var cone_protected=function(e,t,i){"use strict";void 0===window.cone&&(window.cone={});class s{static initialize(e){new s(e,".batched_items_slice_size select",".batched_items_filter input","term")}constructor(e,t,i,s){this.context=e,this.size_selector=t,this.filter_selector=i,this.filter_name=s,this.bind_size(),this.bind_search()}bind_size(){t(this.size_selector,this.context).off("change").on("change",function(e){let i=t(e.currentTarget),s=t("option:selected",i).first();this.set_filter(i,"size",s.val())}.bind(this))}bind_search(){let e=t(this.filter_selector,this.context);e.hasClass("empty_filter")&&e.on("focus",(function(){this.value="",t(this).removeClass("empty_filter")})),e.off("keypress").on("keypress",(function(e){13==e.keyCode&&e.preventDefault()})),e.off("keyup").on("keyup",function(e){if(13==e.keyCode){e.preventDefault();let i=t(e.currentTarget);this.set_filter(i,this.filter_name,i.attr("value"))}}.bind(this)),e.off("change").on("change",function(e){e.preventDefault();let i=t(e.currentTarget);this.set_filter(i,this.filter_name,i.attr("value"))}.bind(this))}set_filter(e,t,s){let n=i.ajax.parsetarget(e.attr("ajax:target")),a=e.attr("ajax:event");if(n.params[t]=s,e.attr("ajax:path")){let r=e.attr("ajax:path-event");r||(r=a),i.ajax.path({path:n.path+n.query+"&"+t+"="+s,event:r,target:n})}let r=a.split(":");i.ajax.trigger(r[0],r[1],n)}}class n extends s{static initialize(e){new n(e,".table_length select",".table_filter input","term")}constructor(e,t,i,s){super(e,t,i,s)}}let a={shift_down:!1,ctrl_down:!1};class r{constructor(){t(window).on("keydown",this.key_down.bind(this)),t(window).on("keyup",this.key_up.bind(this))}key_down(e){switch(e.keyCode||e.which){case 16:a.shift_down=!0;break;case 17:a.ctrl_down=!0}}key_up(e){switch(e.keyCode||e.which){case 16:a.shift_down=!1;break;case 17:a.ctrl_down=!1}}}return t((function(){new r,i.ajax.register(s.initialize,!0),i.ajax.register(n.initialize,!0)})),e.BatchedItems=s,e.KeyBinder=r,e.TableToolBar=n,e.keys=a,Object.defineProperty(e,"__esModule",{value:!0}),Object.assign(window.cone,e),e}({},jQuery,treibstoff);
