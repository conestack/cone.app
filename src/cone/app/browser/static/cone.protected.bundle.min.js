var cone_protected=function(t,e,i){"use strict";void 0===window.cone&&(window.cone={});class s{static initialize(t){new s(t)}constructor(t){this.tabs=e("ul.settingstabs a",t),this.tabs.on("click",this.load_tab).first().trigger("click")}load_tab(t){t.preventDefault();let s=e(this),a=i.ajax.parsetarget(s.attr("ajax:target"));i.ajax.request({url:a.url,params:a.params,success:function(t,i,a){let n=e(s).parent().parent();e("li",n).removeClass("active"),s.parent().addClass("active"),e(".settingstabpane").html(t).css("display","block").tsajax()}})}}class a{static initialize(t){new a(t,".batched_items_slice_size select",".batched_items_filter input","term")}constructor(t,e,i,s){this.context=t,this.size_selector=e,this.filter_selector=i,this.filter_name=s,this.bind_size(),this.bind_search()}bind_size(){e(this.size_selector,this.context).off("change").on("change",function(t){let i=e(t.currentTarget),s=e("option:selected",i).first();this.set_filter(i,"size",s.val())}.bind(this))}bind_search(){let t=e(this.filter_selector,this.context);t.hasClass("empty_filter")&&t.on("focus",(function(){this.value="",e(this).removeClass("empty_filter")})),t.off("keypress").on("keypress",(function(t){13==t.keyCode&&t.preventDefault()})),t.off("keyup").on("keyup",function(t){if(13==t.keyCode){t.preventDefault();let i=e(t.currentTarget);this.set_filter(i,this.filter_name,i.attr("value"))}}.bind(this)),t.off("change").on("change",function(t){t.preventDefault();let i=e(t.currentTarget);this.set_filter(i,this.filter_name,i.attr("value"))}.bind(this))}set_filter(t,e,s){let a=i.ajax.parsetarget(t.attr("ajax:target")),n=t.attr("ajax:event");if(a.params[e]=s,t.attr("ajax:path")){let r=t.attr("ajax:path-event");r||(r=n),i.ajax.path({path:a.path+a.query+"&"+e+"="+s,event:r,target:a})}let r=n.split(":");i.ajax.trigger(r[0],r[1],a)}}class n extends a{static initialize(t){new n(t,".table_length select",".table_filter input","term")}constructor(t,e,i,s){super(t,e,i,s)}}let r={shift_down:!1,ctrl_down:!1};class c{constructor(){e(window).on("keydown",this.key_down.bind(this)),e(window).on("keyup",this.key_up.bind(this))}key_down(t){switch(t.keyCode||t.which){case 16:r.shift_down=!0;break;case 17:r.ctrl_down=!0}}key_up(t){switch(t.keyCode||t.which){case 16:r.shift_down=!1;break;case 17:r.ctrl_down=!1}}}return e((function(){new c,i.ajax.register(s.initialize,!0),i.ajax.register(a.initialize,!0),i.ajax.register(n.initialize,!0)})),t.BatchedItems=a,t.KeyBinder=c,t.SettingsTabs=s,t.TableToolBar=n,t.keys=r,Object.defineProperty(t,"__esModule",{value:!0}),Object.assign(window.cone,t),t}({},jQuery,treibstoff);
