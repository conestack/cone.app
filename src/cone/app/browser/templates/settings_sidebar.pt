<tal:block xmlns:tal="http://xml.zope.org/namespaces/tal"
           xmlns:ajax="http://namespaces.conestack.org/ajax"
           xmlns:i18n="http://xml.zope.org/namespaces/i18n"
           i18n:domain="cone.app"
           omit-tag="True">

  <li id="navtree" class="nav-item mb-1 text-white">

    <div id="settings_sidebar"
         class="contextsensitiv"
         ajax:bind="contextchanged"
         ajax:action="settings_sidebar:#settings_sidebar:replace">

      <ul tal:define="categories context.categorized_children"
          class="nav nav-pills flex-column mb-auto">

        <div role="button" class="nav-item nav-link text-light">
            <i class="bi-star me-2"></i>
            <span i18n:translate="settings">Settings</span>
            <i class="bi-chevron-right" data-bs-toggle="collapse" data-bs-target="#navigation-collapse"></i>
        </div>

        <div class="collapse show" id="navigation-collapse">
          <ul class="list-group list-unstyled fw-normal pb-1">
            <tal:category repeat="category_name categories">
              <tal:li repeat="item categories[category_name]">
                <li tal:define="css item['current'] and 'active' or '';
                          css ' '.join([
                            css,
                            'list-group-item ps-4 p-0 border-0'
                          ]);
                          css css.strip()"
                    tal:attributes="class css">
                  <a href="${item['target']}"
                     tal:define="active item['current'] and 'active' or ''"
                     class="link-light text-decoration-none nav-link 
                            position-relative ${active}"
                     ajax:bind="click"
                     ajax:target="${item['target']}"
                     ajax:event="contextchanged:#layout"
                     ajax:path="href">
                      <i class="${item['icon']}" alt="..."></i>
                      <span tal:content="item['title']">Title</span>
                  </a>
                </li>
              </tal:li>
              </tal:category>
          </ul>
        </div>

      </ul>
    </div>
  </li>

</tal:block>
