<tal:layout xmlns:tal="http://xml.zope.org/namespaces/tal"
            xmlns:ajax="http://namespaces.conestack.org/ajax"
            omit-tag="True">

  <div id="layout"
       class="h-100 overflow-hidden"
       ajax:action="layout:#layout:replace"
       ajax:bind="contextchanged"
       tal:define="config context.config">

    <div class="${config.columns_fluid and 'container-fluid h-100' or 'container h-100'}">

      <tal:logo replace="structure tile('logo')" />

      <div class="row h-100">
        <!-- sidebar -->
        <div id="sidebar_left"
             tal:condition="config.sidebar_left"
             class="d-none d-xxl-flex flex-column flex-shrink-0 p-3 px-0 pb-5"
             style="width: 300px;">

          <div class="scrollable-y">

            <div class="scrollable-content px-3">
              <ul class="nav nav-pills flex-column mb-auto">

                <tal:tiles repeat="tilename config.sidebar_left">
                  <tal:tile replace="structure tile(tilename)" />
                </tal:tiles>

                <!-- example items -->
                <li class="nav-item">
                    <a href="#" class="nav-link text-light" aria-current="page">
                    <i class="bi-heart me-2"></i>
                    An Item
                    </a>
                </li>

                <li class="nav-item">
                    <a href="#" class="nav-link text-light active" aria-current="page">
                    <i class="bi-cloud me-2"></i>
                    Active item
                    </a>
                </li>
                <!-- end example items -->
              </ul>
            </div>
          </div>
        </div>

        <!-- content area -->
        <div id="main-area" class="col h-100 p-0 pb-5">

          <nav id="header-main"
               class="position-relative p-0 navbar navbar-expand-lg navbar-light shadow-sm">
            <div class="${config.mainmenu_fluid and 'container-fluid justify-content-end h-100 px-0' or 'container justify-content-end h-100 px-0'}">

              <tal:colortoggler
                   replace="structure tile('colortoggler')" />

              <tal:personaltools
                   condition="config.personaltools"
                   replace="structure tile('personaltools')" />

              <button class="navbar-toggler"
                      data-bs-target="#navbar-content"
                      data-bs-toggle="collapse"
                      type="button">
                  <span class="navbar-toggler-icon"></span>
              </button>

              <div class="collapse navbar-collapse p-3 p-lg-0" id="navbar-content">

              <tal:mainmenu
                  condition="config.mainmenu"
                  replace="structure tile('mainmenu')" />

              <tal:livesearch
                  condition="config.livesearch"
                  replace="structure tile('livesearch')" />

              <tal:language replace="structure tile('language')" />


              </div>
            </div>
          </nav>

          <!-- pathbar-->
          <tal:pathbar condition="config.pathbar" replace="structure tile('pathbar')" />

          <!-- content -->
          <div id="content"
               class="px-3 pb-5 py-2 overflow-auto"
               ajax:bind="contextchanged"
               ajax:action="content:#content:inner">
            <tal:content
              replace="structure tile(context.contenttile)" />
          </div>
        </div>
      </div>
    </div>

    <!-- footer -->
    <tal:footer replace="structure tile('footer')" />

  </div>

</tal:layout>
