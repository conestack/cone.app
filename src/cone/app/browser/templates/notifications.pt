<tal:language xmlns:tal="http://xml.zope.org/namespaces/tal"
              xmlns:ajax="http://namespaces.conestack.org/ajax"
              omit-tag="True">

  <li class="dropdown" id="notifications">
    <i class="dropdown-toggle bi bi-bell-fill"
       role="button"
       data-bs-toggle="dropdown"></i>
    <ul class="dropdown-menu dropdown-menu-end">
      <li class="toolbar-title">
        Notifications
      </li>
      <div id="toolbar_actions">
      <span id="noti_sort_date">
        <i class="bi bi-clock-history"></i>
        <i class="arrow-small bi bi-arrow-up"></i>
        <span class="tb-tooltip">Sort by date</span>
      </span>
      <span id="noti_sort_priority">
        <i class="bi bi-exclamation-circle"></i>
        <i class="arrow-small bi bi-arrow-up"></i>
        <span class="tb-tooltip">Sort by priority</span>
      </span>
      <span id="noti_mark_read">
        <i class="bi bi-eye-slash"></i>
        <span class="tb-tooltip">Mark all as read</span>
      </span>
      </div>

      <tal:li repeat="noti context.notifications">
        <li tal:condition="not noti['priority']"
            tal:define="css 'read ' if noti['read'] else 'unread ';
                        css css + 'notification ';"
            tal:attributes="id noti['id'];
                            class css;
                            data-timestamp noti['timestamp']">
          <div class="user-img">
            <img tal:condition="noti['sender']['img']"
                 tal:attributes="src 'static/images/tmp/' + noti['sender']['img']">
            <i tal:condition="not noti['sender']['img']"
               class="bi bi-person"></i>
          </div>

          <div class="msg">
            <a href="#">
              <p class="message"
                 tal:content="noti['sender']['name'] + noti['name']">
                 Notification
              </p>
              <p class="timestamp"
                 tal:content="noti['timestamp']">
                 Timestamp
              </p>
            </a>
          </div>
        </li>

        <li tal:condition="noti['priority']"
            tal:define="css 'read ' if noti['read'] else 'unread ';
                        css css + 'notification priority ' + noti['priority'];"
            tal:attributes="id noti['id'];
                            class css;
                            data-timestamp noti['timestamp']">
          <div class="user-img">
            <img tal:attributes="src 'static/images/cone-logo-cone.svg'">
          </div>

          <div class="msg">
            <a href="#">
              <p class="message"
                 tal:content="noti['sender']['name'] + noti['name']">
                 <b>Notification</b>
              </p>
              <p class="message-info"
                 tal:content="noti['message']">
                 Notification Information
              </p>
              <p class="timestamp"
                 tal:content="noti['timestamp']">
                 Timestamp
              </p>
            </a>
          </div>
          <i class="bi bi-x-circle"></i>
        </li>
      </tal:li>
    </ul>
  </li>

</tal:language>